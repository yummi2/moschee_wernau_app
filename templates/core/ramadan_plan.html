{% extends "base.html" %}
{% block title %}Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù†{% endblock %}

{% block content %}
<div class="mx-auto max-w-6xl px-4" dir="rtl">
  <div class="bg-white rounded-2xl shadow p-6">

    {% with active_tab=request.GET.tab|default:"contest" %}
    <!-- Tabs -->
    <div class="flex gap-2 mb-4">
      <a href="?tab=contest"
         class="px-3 py-1 rounded-lg border
         {% if active_tab == 'contest' %} bg-blue-600 text-white border-blue-600
         {% else %} text-blue-700 hover:bg-blue-50 border-blue-200 {% endif %}">
        Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù†
      </a>

      <a href="?tab=activity"
         class="px-3 py-1 rounded-lg border
         {% if active_tab == 'activity' %} bg-blue-600 text-white border-blue-600
         {% else %} text-blue-700 hover:bg-blue-50 border-blue-200 {% endif %}">
        Ø£Ù†Ø´Ø·Ø© Ø±Ù…Ø¶Ø§Ù†
      </a>
    </div>

    <!-- Content -->
    <div class="grid gap-6 lg:grid-cols-2 items-start">

      <!-- Contest -->
      <section class="bg-white border rounded-2xl p-4 {% if active_tab != 'contest' %}hidden{% endif %}">
        

        <div class="max-h-[70vh] overflow-auto pr-1">
          <div class="grid gap-3 grid-cols-2 sm:grid-cols-3">
          {% for d in days %}
        <a href="{% url 'ramadan_day' d.day %}"
           class="block bg-blue-50 hover:bg-blue-100 rounded-xl shadow p-6  transition">
          <div class="text-lg font-bold text-blue-700">{{ d.title }}</div>
        </a>
        
      {% endfor %}

          </div>
        </div>
      </section>

      <!-- Activity -->
<section class="bg-white border border-gray-200 rounded-2xl p-4 {% if active_tab != 'activity' %}hidden{% endif %}">

  {% with active_act=request.GET.act|default:"menu" %}

  {% if active_act == "menu" %}
    <!-- Activity MenÃ¼ -->
    <div class="grid gap-3 grid-cols-2 sm:grid-cols-3">
      <a href="?tab=activity&act=questions"
         class="block bg-blue-50 hover:bg-blue-100 rounded-xl shadow p-6 transition">
        <div class="text-lg font-bold text-blue-700">â“ Ø£Ø³Ø¦Ù„Ø©</div>
      </a>

      <a href="?tab=activity&act=drawing"
         class="block bg-blue-50 hover:bg-blue-100 rounded-xl shadow p-6 transition">
        <div class="text-lg font-bold text-blue-700">ğŸ¨ ØªÙ„ÙˆÙŠÙ†</div>
      </a>
    </div>

  {% elif active_act == "questions" %}
    <div class="bg-white border-gray-200">
      <h2 class="text-xl font-bold text-blue-700 mb-3">Ø£Ø³Ø¦Ù„Ø©</h2>

      <ul class="list-disc pr-6 space-y-2">
        {% for q in questions %}
          <li class="text-gray-800">{{ q }}</li>
        {% empty %}
          <li class="text-gray-500">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</li>
        {% endfor %}
      </ul>
    </div>

      {% elif active_act == "drawing" %}
        <div class="bg-white">
          <h2 class="text-xl font-bold text-blue-700 mb-3">ØªÙ„ÙˆÙŠÙ†</h2>

          <div class="grid gap-3 grid-cols-2 sm:grid-cols-3">
            {% for it in drawing_items %}
              <a href="{{ it.url }}"
                target="_blank" rel="noopener noreferrer"
                class="block bg-blue-50 hover:bg-blue-100 rounded-xl shadow p-6 transition">
                <div class="text-lg font-bold text-blue-700">Ø±Ø§Ø¨Ø· {{ it.n }}</div>
              </a>
            {% endfor %}
          </div>
        </div>
      {% endif %}

      {% endwith %}
    </section>
    </div>
    {% endwith %}
  </div>
</div>
{% endblock %}
